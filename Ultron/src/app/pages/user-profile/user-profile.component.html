<div *ngIf="!loading" class="profile-container">

  <div class="profile-info-box">
    <h2>User Profile</h2>
    <p><strong>Name:</strong> {{ user.username }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Phone:</strong> {{ user.phoneNumber }}</p>

    <div class="profile-actions">
      <button class="btn" (click)="logout()">Logout</button>
      <button class="btn reset-btn" routerLink="/password-reset">Reset Password</button>
    </div>
  </div>

  <h3 (click)="toggleOrders()" class="orders-title">
    Previous Orders
    <span>{{ showOrders ? '▲' : '▼' }}</span>
  </h3>

  <div *ngIf="showOrders" class="orders-box">
    <div *ngIf="orders.length > 0; else noOrders">
      <div *ngFor="let order of orders" class="order-card">
        <p><strong>Order ID:</strong> {{ order.id }}</p>
        <p><strong>Date:</strong> {{ order.timestamp | date:'medium' }}</p>
        <ul>
          <li *ngFor="let item of order.items">
            {{ item.productName }} - Quantity: {{ item.quantity }} - Price: {{ item.price | currency }}
          </li>
        </ul>
      </div>
    </div>
    <ng-template #noOrders>
      <p>No previous orders found.</p>
    </ng-template>
  </div>
</div>

<div *ngIf="loading" class="loading">
  Loading user information...
</div>
