<div *ngIf="product" class="product-container">
  <section class="image-gallery">
    <div class="main-image-wrapper">
      <img [src]="selectedImage" [alt]="product.name" class="main-image">
    </div>
    <div class="thumbnail-gallery">
      <img *ngIf="product.imageUrl"
           [src]="product.imageUrl"
           class="thumbnail"
           [class.active]="selectedImage === product.imageUrl"
           (click)="selectImage(product.imageUrl)">
      <img *ngFor="let imgUrl of product.galleryImages"
           [src]="imgUrl"
           class="thumbnail"
           [class.active]="selectedImage === imgUrl"
           (click)="selectImage(imgUrl)">
    </div>
  </section>

  <section class="product-details">
    <h1>{{ product.name }}</h1>
    <p class="product-price">{{ product.price | currency }}</p>

<section class="product-reviews" *ngIf="product.reviews?.length">
  <h2>Customer Reviews</h2>

  <div class="average-rating">
    <div class="stars">
      <img src="star.png" alt="" class="star-icon">
      <i class="fa-solid" *ngFor="let star of [1,2,3,4,5]"
         [class.fa-star]="star <= (product.rating || 0)"
         [class.fa-star-half-stroke]="star - 0.5 === (product.rating || 0)">
      </i>
    </div>
    <span class="avg-score">{{ product.rating?.toFixed(1) || 'N/A' }} / 5</span>
  
  </div>

  
</section>

    <!-- Product Description -->
    <p class="product-description">{{ product.description }}</p>

    <!-- Additional Details -->
    <div class="product-additional-details">
      <p><strong>Size:</strong> {{ product.size }}</p>
      <p><strong>Color:</strong> {{ product.color }}</p>
      <p><strong>Category:</strong> {{ product.category }}</p>
      <p><strong>Material:</strong> {{ product.material }}</p>
      <p><strong>Available Quantity:</strong> {{ product.quantity }}</p>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="add-to-cart" (click)="addToCartFunc(product.id, 1)">Add to Cart</button>
      <button class="buy-now" (click)="buyNow()">Buy Now</button>
    </div>
  </section>
</div>
